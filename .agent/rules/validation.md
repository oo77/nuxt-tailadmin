---
trigger: always_on
---

Правила валидации форм и уведомлений

1. Обязательная валидация всех форм

Каждое поле любой формы должно проходить валидацию.
Без исключений. Даже «второстепенные» поля.

Текстовые поля

Числовые значения

Select / Multi-select

Date / Time

File upload

Hidden / system-поля (если участвуют в логике)

Форма без валидации — это не форма, а генератор багов.

2. Типы проверок

Для каждого поля должны быть определены:

Обязательность (required)

Тип данных (string, number, email, date и т.д.)

Граничные условия

min / max

длина строки

диапазоны значений

Логические проверки

зависимости между полями

взаимоисключающие значения

Серверная валидация

даже если есть клиентская

3. Единый механизм валидации

Использовать один общий подход для всего проекта:

один validation helper / composable

одна схема правил

Запрещено:

писать уникальную валидацию «под каждую форму»

дублировать логику в нескольких местах

4. Уведомления и ошибки (обязательно)

Все ошибки валидации должны быть связаны с системой уведомлений.

Ошибка поля:

отображается рядом с полем

визуально подчёркивает проблему

Ошибка формы:

выводится через global notification / toast / alert

Серверные ошибки:

маппятся на поля, если возможно

иначе показываются как общее уведомление

Пользователь должен понимать, что именно он сделал не так,
а не гадать, как в квесте.

5. UX-поведение

Валидация:

при submit

при blur (если уместно)

Submit кнопка:

блокируется при невалидной форме

После успешного submit:

форма очищается или переводится в read-only

показывается success-уведомление

6. Стандарты сообщений об ошибках

Сообщения:

короткие

конкретные

без технического мусора

Запрещено:

«Invalid input»

«Something went wrong»

Разрешено:

«Поле обязательно для заполнения»

«Минимум 3 символа»

«Дата окончания не может быть раньше даты начала»

7. Контроль перед коммитом

Перед сдачей формы:

Проверить все поля вручную

Проверить негативные сценарии

Убедиться, что:

все ошибки видны

все ошибки понятны

ни одна ошибка не теряется в консоли

8. Ключевое правило

Если поле существует — оно валидируется.
Если есть ошибка — пользователь о ней узнаёт.
