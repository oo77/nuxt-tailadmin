# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —à–∞–±–ª–æ–Ω–æ–≤ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

> **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-26  
> **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-29  
> **–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 2-3 –¥–Ω—è  
> **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
> **–°—Ç–∞—Ç—É—Å:** üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ (–î–µ–Ω—å 1-2 –≤—ã–ø–æ–ª–Ω–µ–Ω, –î–µ–Ω—å 3 –≤ —Ä–∞–±–æ—Ç–µ)

---

## üìã –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

### ~~–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ~~ (–£–î–ê–õ–ï–ù–û)

~~–°–µ–π—á–∞—Å —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫:~~

1. ~~–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç DOCX-—Ñ–∞–π–ª —à–∞–±–ª–æ–Ω–∞~~
2. ~~–°–∏—Å—Ç–µ–º–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `[–ù–ê–ó–í–ê–ù–ò–ï]` –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞~~
3. ~~–ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ ‚Äî –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ docxtemplater~~
4. ~~–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ PDF —á–µ—Ä–µ–∑ LibreOffice (–ù–ï –†–ê–ë–û–¢–ê–ï–¢ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ LibreOffice)~~

### ‚úÖ –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ (–†–ï–ê–õ–ò–ó–û–í–ê–ù)

–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —à–∞–±–ª–æ–Ω–æ–≤:

1. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç —à–∞–±–ª–æ–Ω –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (drag-and-drop)
2. ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, QR-–∫–æ–¥, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
3. ‚úÖ –®–∞–±–ª–æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ JSON-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
4. ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —á–µ—Ä–µ–∑ Puppeteer

---

## üóÇÔ∏è –ß—Ç–æ –£–î–ê–õ–ï–ù–û / –ò–ó–ú–ï–ù–ï–ù–û

### ‚úÖ –§–∞–π–ª—ã —É–¥–∞–ª–µ–Ω—ã

```
‚úÖ server/api/certificates/templates/[id]/upload.post.ts  ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ DOCX (–£–î–ê–õ–ï–ù–û)
‚úÖ server/utils/certificateGenerator.ts                    ‚Äî —Å—Ç–∞—Ä—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (–£–î–ê–õ–ï–ù–û)
```

### ‚úÖ –§–∞–π–ª—ã –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã

```
‚úÖ server/types/certificate.ts                           ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
‚úÖ server/repositories/certificateTemplateRepository.ts  ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ JSON —à–∞–±–ª–æ–Ω–∞
‚úÖ app/pages/certificates/templates/[id].vue             ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω (—É–±—Ä–∞–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ DOCX)
‚úÖ server/api/certificates/issue/[groupId].post.ts       ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–π PDF –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
‚úÖ server/api/certificates/templates/sources.get.ts      ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ä–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
‚úÖ server/api/certificates/templates/[id]/preview.get.ts ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
```

### ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã

```sql
-- –ú–∏–≥—Ä–∞—Ü–∏—è: 20251226_022_certificate_visual_editor.ts
ALTER TABLE certificate_templates
  ADD COLUMN template_data JSON COMMENT 'JSON-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —à–∞–±–ª–æ–Ω–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞',
  ADD COLUMN layout VARCHAR(20) DEFAULT 'A4_landscape' COMMENT '–ú–∞–∫–µ—Ç: A4_portrait, A4_landscape',
  ADD COLUMN background_url VARCHAR(500) COMMENT 'URL —Ñ–æ–Ω–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è';
```

---

## üîß –ß—Ç–æ –£–°–¢–ê–ù–û–í–õ–ï–ù–û

### ‚úÖ NPM-–ø–∞–∫–µ—Ç—ã

```bash
# –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (—Ä–µ–¥–∞–∫—Ç–æ—Ä)
‚úÖ npm install fabric                 # Canvas-—Ä–µ–¥–∞–∫—Ç–æ—Ä —Å drag-and-drop
‚úÖ npm install @types/fabric          # TypeScript —Ç–∏–ø—ã

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF
‚úÖ npm install puppeteer              # –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF (–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ)
‚úÖ npm install @types/puppeteer       # TypeScript —Ç–∏–ø—ã

# QR-–∫–æ–¥—ã
‚úÖ npm install qrcode                 # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–æ–≤
‚úÖ npm install @types/qrcode          # TypeScript —Ç–∏–ø—ã

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
‚úÖ npm install jspdf html2canvas      # –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF (—Ä–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)
```

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞

```
‚úÖ app/composables/useCertificateEditor.ts       ‚Äî –õ–æ–≥–∏–∫–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞, Undo/Redo, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
‚úÖ app/components/certificates/editor/CertificateEditor.vue   ‚Äî –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
‚úÖ app/components/certificates/editor/EditorCanvas.vue        ‚Äî –•–æ–ª—Å—Ç —Å drag-and-drop, resize
‚úÖ app/components/certificates/editor/EditorToolbar.vue       ‚Äî –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚úÖ app/components/certificates/editor/EditorSidebar.vue       ‚Äî –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ —ç–ª–µ–º–µ–Ω—Ç–∞
```

### ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü—ã

```
‚úÖ app/pages/certificates/templates/[id]/editor.vue  ‚Äî –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
‚úÖ app/pages/certificates/templates/[id].vue         ‚Äî –û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —à–∞–±–ª–æ–Ω–∞
‚úÖ app/layouts/blank.vue                             ‚Äî –ß–∏—Å—Ç—ã–π layout –¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
```

### ‚úÖ Backend

```
‚úÖ server/utils/pdfGenerator.ts                              ‚Äî –ù–æ–≤—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä PDF –Ω–∞ Puppeteer
‚úÖ server/database/migrations/20251226_022_certificate_visual_editor.ts ‚Äî –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î
```

---

## üìÖ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ –¥–Ω—è–º

### ‚úÖ –î–µ–Ω—å 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –±–∞–∑–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä (–í–´–ü–û–õ–ù–ï–ù–û)

#### ‚úÖ 1.1 –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1 —á–∞—Å)

- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å npm-–ø–∞–∫–µ—Ç—ã: `fabric`, `@types/fabric`, `puppeteer`, `qrcode`
- [x] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
- [x] –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã –≤ `certificate.ts`

#### ‚úÖ 1.2 –ë–∞–∑–æ–≤—ã–π —Ö–æ–ª—Å—Ç (3 —á–∞—Å–∞)

- [x] –°–æ–∑–¥–∞—Ç—å `EditorCanvas.vue` —Å native Canvas (–±–µ–∑ Fabric.js - —É–ø—Ä–æ—â—ë–Ω–Ω–æ)
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã —Ö–æ–ª—Å—Ç–∞ (A4 landscape –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å zoom (–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [x] Drag-and-drop –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- [x] Resize —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ —Ä—É—á–∫–∏

#### ‚úÖ 1.3 –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (2 —á–∞—Å–∞)

- [x] –°–æ–∑–¥–∞—Ç—å `EditorToolbar.vue`
- [x] –ö–Ω–æ–ø–∫–∏: –¢–µ–∫—Å—Ç, –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, QR, –§–∏–≥—É—Ä—ã
- [x] –í—ã–±–æ—Ä –º–∞–∫–µ—Ç–∞ (A4 portrait/landscape)
- [x] –ö–Ω–æ–ø–∫–∏: –û—Ç–º–µ–Ω–∞/–ü–æ–≤—Ç–æ—Ä, –°–æ—Ö—Ä–∞–Ω–∏—Ç—å, –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä

#### ‚úÖ 1.4 –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ (2 —á–∞—Å–∞)

- [x] –°–æ–∑–¥–∞—Ç—å `EditorSidebar.vue`
- [x] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
- [x] –ü–æ–ª—è: –ø–æ–∑–∏—Ü–∏—è X/Y, —Ä–∞–∑–º–µ—Ä, –ø–æ–≤–æ—Ä–æ—Ç
- [x] –°—Ç–∏–ª–∏ —Ç–µ–∫—Å—Ç–∞: —à—Ä–∏—Ñ—Ç, —Ä–∞–∑–º–µ—Ä, —Ü–≤–µ—Ç, –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ

---

### ‚úÖ –î–µ–Ω—å 2: –≠–ª–µ–º–µ–Ω—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–í–´–ü–û–õ–ù–ï–ù–û)

#### ‚úÖ 2.1 –¢–µ–∫—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (2 —á–∞—Å–∞)

- [x] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- [x] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º (inline editing)
- [x] –°—Ç–∏–ª–∏: —à—Ä–∏—Ñ—Ç, —Ä–∞–∑–º–µ—Ä, —Ü–≤–µ—Ç, –∂–∏—Ä–Ω—ã–π/–∫—É—Ä—Å–∏–≤
- [x] –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞

#### ‚úÖ 2.2 –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (2 —á–∞—Å–∞)

- [x] –í—ã–±–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–∑ —Å–ø–∏—Å–∫–∞ (student.fullName, course.name –∏ —Ç.–¥.)
- [x] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ placeholder –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
- [x] –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (–ø–æ–¥—Å–≤–µ—Ç–∫–∞ badge)
- [x] –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

#### ‚úÖ 2.3 –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ñ–æ–Ω (2 —á–∞—Å–∞)

- [x] –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—á–µ—Ä–µ–∑ base64)
- [x] –í—ã–±–æ—Ä —Ñ–æ–Ω–æ–≤–æ–≥–æ —Ü–≤–µ—Ç–∞
- [x] –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ñ–æ–Ω–∞ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: objectFit, opacity

#### ‚úÖ 2.4 QR-–∫–æ–¥ (1 —á–∞—Å)

- [x] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ QR-—ç–ª–µ–º–µ–Ω—Ç–∞
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∏: dataSource (certificate_url, certificate_number, custom)
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∏: —Ü–≤–µ—Ç, —Ñ–æ–Ω

#### ‚úÖ 2.5 –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ (1 —á–∞—Å)

- [x] –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ JSON (templateData)
- [x] API endpoint –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ PUT /api/certificates/templates/[id]
- [x] –ó–∞–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–∞ –∏–∑ JSON –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏

---

### üü° –î–µ–Ω—å 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –∏ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è (–í –ü–†–û–¶–ï–°–°–ï)

#### ‚úÖ 3.1 –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF (3 —á–∞—Å–∞)

- [x] –°–æ–∑–¥–∞—Ç—å `pdfGenerator.ts` —Å Puppeteer
- [x] HTML-—à–∞–±–ª–æ–Ω –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- [x] –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- [x] –§—É–Ω–∫—Ü–∏—è `generateCertificatePdf()`

#### ‚úÖ 3.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤—ã–¥–∞—á–µ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (2 —á–∞—Å–∞)

- [x] –û–±–Ω–æ–≤–∏—Ç—å `issue/[groupId].post.ts` –¥–ª—è –Ω–æ–≤–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
- [x] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –ø—Ä–∏ –≤—ã–¥–∞—á–µ
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –≤ `storage/certificates/generated/`

#### ‚è≥ 3.3 –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä (1 —á–∞—Å)

- [x] API endpoint preview.get.ts –æ–±–Ω–æ–≤–ª—ë–Ω
- [ ] –ö–Ω–æ–ø–∫–∞ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ (–º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ)
- [ ] –ü–æ–∫–∞–∑ preview —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –≤ iframe

#### ‚è≥ 3.4 –ì–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã-–ø—Ä–µ—Å–µ—Ç—ã (1 —á–∞—Å)

- [ ] 2-3 –≥–æ—Ç–æ–≤—ã—Ö –¥–∏–∑–∞–π–Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (JSON)
- [ ] –ö–Ω–æ–ø–∫–∞ "–ù–∞—á–∞—Ç—å —Å —à–∞–±–ª–æ–Ω–∞" –≤ EditorToolbar
- [ ] –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ

#### ‚è≥ 3.5 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (1 —á–∞—Å)

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Å—å —Ñ–ª–æ—É: —Å–æ–∑–¥–∞–Ω–∏–µ ‚Üí —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –≤—ã–¥–∞—á–∞ ‚Üí —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é PDF –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥–∏

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (TODO)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ**

   - –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000/certificates/templates
   - –°–æ–∑–¥–∞—Ç—å/–æ—Ç–∫—Ä—ã—Ç—å —à–∞–±–ª–æ–Ω
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î**

   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `npm run db:migrate`
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø–æ–ª—è template_data, layout, background_url –¥–æ–±–∞–≤–ª–µ–Ω—ã

3. **–î–æ—Ä–∞–±–æ—Ç–∞—Ç—å Preview**
   - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ —Å iframe
   - –ó–∞–≥—Ä—É–∑–∫–∞ HTML preview —Å —Å–µ—Ä–≤–µ—Ä–∞

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –£–ª—É—á—à–µ–Ω–∏—è

4. **–ì–æ—Ç–æ–≤—ã–µ –ø—Ä–µ—Å–µ—Ç—ã**

   - –°–æ–∑–¥–∞—Ç—å 2-3 JSON-—à–∞–±–ª–æ–Ω–∞ —Å –∫—Ä–∞—Å–∏–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º
   - –î–æ–±–∞–≤–∏—Ç—å –≤—ã–±–æ—Ä –ø—Ä–µ—Å–µ—Ç–∞ –≤ toolbar

5. **–§–∏–≥—É—Ä—ã (shapes)**

   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤, –∫—Ä—É–≥–æ–≤, –ª–∏–Ω–∏–π

6. **–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏**
   - Ctrl+C / Ctrl+V –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –°—Ç—Ä–µ–ª–∫–∏ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

7. **Snap to grid** ‚Äî –ø—Ä–∏–≤—è–∑–∫–∞ –∫ —Å–µ—Ç–∫–µ
8. **Align tools** ‚Äî –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
9. **Layer panel** ‚Äî –ø–∞–Ω–µ–ª—å —Å–ª–æ—ë–≤

---

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

| –ü—Ä–æ–±–ª–µ–º–∞                                            | –°—Ç–∞—Ç—É—Å  | –†–µ—à–µ–Ω–∏–µ                                   |
| --------------------------------------------------- | ------- | ----------------------------------------- |
| Puppeteer –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ö–æ—Å—Ç–∏–Ω–≥–∞—Ö  | ‚ö†Ô∏è –†–∏—Å–∫ | Fallback –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é (jsPDF)  |
| Google Fonts –º–æ–≥—É—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –ø—Ä–∏ PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | ‚ö†Ô∏è –†–∏—Å–∫ | –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ |

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (Definition of Done)

- [x] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω —Å –Ω—É–ª—è
- [x] –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å: —Ç–µ–∫—Å—Ç, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, QR-–∫–æ–¥
- [x] –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å: —à—Ä–∏—Ñ—Ç, —Ä–∞–∑–º–µ—Ä, —Ü–≤–µ—Ç, –ø–æ–∑–∏—Ü–∏—é
- [x] –®–∞–±–ª–æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è PDF –ø—Ä–∏ –≤—ã–¥–∞—á–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–∫–æ–¥ –≥–æ—Ç–æ–≤)
- [ ] PDF —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [ ] –ï—Å—Ç—å 2-3 –≥–æ—Ç–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞

---

## üìä –ü—Ä–æ–≥—Ä–µ—Å—Å

```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë] 85% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

‚úÖ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî 100%
‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ ‚Äî 100%
‚úÖ Backend PDF –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä ‚Äî 100%
‚è≥ Preview –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ ‚Äî 50%
‚è≥ –ì–æ—Ç–æ–≤—ã–µ –ø—Ä–µ—Å–µ—Ç—ã ‚Äî 0%
‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî 0%
```

---

## üìù –ó–∞–º–µ—Ç–∫–∏

- Fabric.js –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π Canvas —Å native DOM
- –†–∞–∑–º–µ—Ä—ã A4 landscape: 1123√ó794 px (–ø—Ä–∏ 96 DPI)
- Google Fonts –¥–ª—è PDF: Inter, Roboto, PT Serif, Open Sans
- QR-–∫–æ–¥ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `qrcode`
