# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üîç –ü—Ä–æ–±–ª–µ–º–∞

–°—Ç—É–¥–µ–Ω—Ç—ã –Ω–µ –≤–∏–¥—è—Ç —Ç–µ—Å—Ç—ã –≤ —Ä–∞–∑–¥–µ–ª–µ "–ú–æ–∏ —Ç–µ—Å—Ç—ã" (`/tests/my`).

## üìä –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –ü–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö:

```
1. question_banks (–±–∞–Ω–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤)
   ‚Üì
2. questions (–≤–æ–ø—Ä–æ—Å—ã)
   ‚Üì
3. test_templates (—à–∞–±–ª–æ–Ω—ã —Ç–µ—Å—Ç–æ–≤)
   ‚Üì
4. discipline_tests (–ø—Ä–∏–≤—è–∑–∫–∞ –∫ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ) ‚Üê –í–ê–ñ–ù–û!
   ‚Üì
5. schedule_events (–∑–∞–Ω—è—Ç–∏–µ —Ç–∏–ø–∞ 'assessment')
   ‚Üì
6. test_assignments (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞) ‚Üê –°–û–ó–î–ê–Å–¢–°–Ø –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò
   ‚Üì
7. –°—Ç—É–¥–µ–Ω—Ç –≤–∏–¥–∏—Ç —Ç–µ—Å—Ç –≤ /tests/my
```

### –£—Å–ª–æ–≤–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Ç–µ—Å—Ç–∞ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–∞:

‚úÖ **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è:**
1. –¢–µ—Å—Ç –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ (`discipline_tests`)
2. –°–æ–∑–¥–∞–Ω–æ –∑–∞–Ω—è—Ç–∏–µ —Ç–∏–ø–∞ "assessment" (`schedule_events`)
3. –°–æ–∑–¥–∞–Ω–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ (`test_assignments`)
4. –°—Ç—É–¥–µ–Ω—Ç –≤—Ö–æ–¥–∏—Ç –≤ –≥—Ä—É–ø–ø—É (`study_group_students`)

## üî¥ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤ –Ω–∞ –æ–¥–Ω–æ –∑–∞–Ω—è—Ç–∏–µ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–ë—ã–ª–æ:**
```typescript
// –ü—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å: –µ—Å—Ç—å –ª–∏ –õ–Æ–ë–û–ô —Ç–µ—Å—Ç –Ω–∞ –∑–∞–Ω—è—Ç–∏–∏
const exists = await testAssignmentExistsForEvent(body.schedule_event_id);
if (exists) {
    return { success: false, message: '–ù–∞ —ç—Ç–æ –∑–∞–Ω—è—Ç–∏–µ —É–∂–µ –Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–µ—Å—Ç' };
}
```

**–°—Ç–∞–ª–æ:**
```typescript
// –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è: –Ω–∞–∑–Ω–∞—á–µ–Ω –ª–∏ –≠–¢–û–¢ –ö–û–ù–ö–†–ï–¢–ù–´–ô —Ç–µ—Å—Ç –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ
const exists = await testAssignmentExistsForEventAndTemplate(
    body.schedule_event_id, 
    body.test_template_id
);
if (exists) {
    return { success: false, message: '–≠—Ç–æ—Ç —Ç–µ—Å—Ç —É–∂–µ –Ω–∞–∑–Ω–∞—á–µ–Ω –Ω–∞ –¥–∞–Ω–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ' };
}
```

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `server/repositories/testAssignmentRepository.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `testAssignmentExistsForEventAndTemplate`
- `server/api/tests/assignments/index.post.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—É—é –ø—Ä–æ–≤–µ—Ä–∫—É

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

–î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤:
- `server/api/tests/assignments/index.post.ts` - —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- `app/components/schedule/EventModal.vue` - –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üß™ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—Ä–∞—É–∑–µ—Ä–∞

–ü–æ—Å–ª–µ –ø–æ–ø—ã—Ç–∫–∏ —Å–æ–∑–¥–∞—Ç—å –∑–∞–Ω—è—Ç–∏–µ —Ç–∏–ø–∞ "assessment", –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:

```
[Schedule] –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ç–µ—Å—Ç–∞: <–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞> { ... }
[Schedule] –û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞: { ... }
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω `npm run dev`, –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:

```
[API tests/assignments] –ü–æ–ª—É—á–µ–Ω –∑–∞–ø—Ä–æ—Å: { ... }
[API tests/assignments] –ü—Ä–æ–≤–µ—Ä–∫–∞ —à–∞–±–ª–æ–Ω–∞ —Ç–µ—Å—Ç–∞: ...
[API tests/assignments] –®–∞–±–ª–æ–Ω –Ω–∞–π–¥–µ–Ω: ...
[API tests/assignments] –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è...
[API tests/assignments] –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ: ...
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î

–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

```sql
-- 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∏–≤—è–∑–∫—É —Ç–µ—Å—Ç–æ–≤ –∫ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞–º
SELECT 
    dt.id,
    d.name as discipline_name,
    tt.name as template_name,
    tt.code as template_code,
    dt.is_required
FROM discipline_tests dt
LEFT JOIN disciplines d ON dt.discipline_id = d.id
LEFT JOIN test_templates tt ON dt.test_template_id = tt.id;

-- 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–Ω—è—Ç–∏—è —Ç–∏–ø–∞ assessment
SELECT 
    se.id,
    se.title,
    se.event_type,
    DATE(se.start_time) as event_date,
    sg.code as group_name,
    d.name as discipline_name
FROM schedule_events se
LEFT JOIN study_groups sg ON se.group_id = sg.id
LEFT JOIN disciplines d ON se.discipline_id = d.id
WHERE se.event_type = 'assessment'
ORDER BY se.start_time DESC
LIMIT 20;

-- 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
SELECT 
    ta.id,
    ta.status,
    tt.name as template_name,
    sg.code as group_name,
    DATE(se.start_time) as event_date
FROM test_assignments ta
LEFT JOIN test_templates tt ON ta.test_template_id = tt.id
LEFT JOIN study_groups sg ON ta.group_id = sg.id
LEFT JOIN schedule_events se ON ta.schedule_event_id = se.id
ORDER BY ta.created_at DESC
LIMIT 20;

-- 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤–∏–¥–∏—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å—Ç—É–¥–µ–Ω—Ç
-- –ó–∞–º–µ–Ω–∏—Ç–µ 'STUDENT_ID' –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID —Å—Ç—É–¥–µ–Ω—Ç–∞
SELECT 
    ta.id,
    tt.name as template_name,
    sg.code as group_name,
    ta.status,
    DATE(se.start_time) as event_date
FROM test_assignments ta
JOIN study_groups sg ON ta.group_id = sg.id
JOIN study_group_students sgs ON sg.id = sgs.group_id
JOIN test_templates tt ON ta.test_template_id = tt.id
LEFT JOIN schedule_events se ON ta.schedule_event_id = se.id
WHERE sgs.student_id = 'STUDENT_ID';
```

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –í–∞—Ä–∏–∞–Ω—Ç A: –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ (—á–µ—Ä–µ–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ)

–°—Ç—É–¥–µ–Ω—Ç –≤–∏–¥–∏—Ç —Ç–µ—Å—Ç—ã **—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–Ω—è—Ç–∏—è "assessment"**.

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–µ—Å—Ç—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞–º –≤ `/programs`
2. –°–æ–∑–¥–∞—Ç—å –∑–∞–Ω—è—Ç–∏–µ —Ç–∏–ø–∞ "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞–Ω–∏–π" –≤ `/schedule`
3. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç `test_assignment`
4. –°—Ç—É–¥–µ–Ω—Ç —É–≤–∏–¥–∏—Ç —Ç–µ—Å—Ç –≤ `/tests/my`

### –í–∞—Ä–∏–∞–Ω—Ç B: –ü—Ä—è–º–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ (–±–µ–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è)

–°—Ç—É–¥–µ–Ω—Ç –≤–∏–¥–∏—Ç —Ç–µ—Å—Ç—ã **—Å—Ä–∞–∑—É –ø–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞–º**, –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–Ω—è—Ç–∏–π.

**–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ò–∑–º–µ–Ω–∏—Ç—å `getStudentAssignments` –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ `discipline_tests`
- –°–æ–∑–¥–∞–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å UI –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –¥–∞—Ç–µ

## üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–Ω–∫ –≤–æ–ø—Ä–æ—Å–æ–≤:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `/test-bank`
   - –°–æ–∑–¥–∞–π—Ç–µ –±–∞–Ω–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä "–û—Å–Ω–æ–≤—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è"
   - –î–æ–±–∞–≤—å—Ç–µ –º–∏–Ω–∏–º—É–º 5 –≤–æ–ø—Ä–æ—Å–æ–≤

2. **–°–æ–∑–¥–∞–π—Ç–µ —à–∞–±–ª–æ–Ω —Ç–µ—Å—Ç–∞:**
   - –í `/test-bank/templates`
   - –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –±–∞–Ω–∫
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤—Ä–µ–º—è, –ø—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª)

3. **–ü—Ä–∏–≤—è–∂–∏—Ç–µ —Ç–µ—Å—Ç –∫ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `/programs`
   - –í—ã–±–µ—Ä–∏—Ç–µ –∫—É—Ä—Å –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É
   - –í —Ä–∞–∑–¥–µ–ª–µ "–¢–µ—Å—Ç—ã –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∑–Ω–∞–Ω–∏–π" –¥–æ–±–∞–≤—å—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω

4. **–°–æ–∑–¥–∞–π—Ç–µ –∑–∞–Ω—è—Ç–∏–µ:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `/schedule`
   - –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–Ω—è—Ç–∏–µ —Ç–∏–ø–∞ "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞–Ω–∏–π"
   - –í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É (–∫ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–∏–≤—è–∑–∞–Ω —Ç–µ—Å—Ç)
   - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∑–∞–Ω—è—Ç–∏–µ

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç –∏–º–µ–Ω–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞:**
   - –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ —Å—Ç—É–¥–µ–Ω—Ç –∏–∑ —ç—Ç–æ–π –≥—Ä—É–ø–ø—ã
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `/tests/my`
   - –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è

## üîß –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚è≥ –û–∂–∏–¥–∞–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —Ç–æ—á–Ω–æ–π –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏

## üìû –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ:
1. –õ–æ–≥–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (–ø–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ `[Schedule]` –∏ `[API tests/assignments]`)
2. –õ–æ–≥–∏ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —Å–µ—Ä–≤–µ—Ä–∞
3. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"
