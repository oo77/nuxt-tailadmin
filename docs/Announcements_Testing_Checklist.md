# ✅ Чек-лист тестирования системы объявлений

## Дата: _____________
## Тестировщик: _____________

---

## 1. Тестирование API

### 1.1. Объявления (Администратор)

- [ ] **GET /api/announcements** - Получение списка объявлений
  - [ ] Без фильтров
  - [ ] С фильтром по статусу
  - [ ] С пагинацией
  - [ ] Проверка прав доступа (только ADMIN/MANAGER)

- [ ] **POST /api/announcements** - Создание объявления
  - [ ] С корректными данными
  - [ ] С некорректными данными (валидация)
  - [ ] Без обязательных полей
  - [ ] Проверка прав доступа

- [ ] **GET /api/announcements/:id** - Получение деталей
  - [ ] Существующее объявление
  - [ ] Несуществующее объявление (404)
  - [ ] С группами
  - [ ] С заявками

- [ ] **PUT /api/announcements/:id** - Обновление объявления
  - [ ] Обновление названия и описания
  - [ ] Обновление дат
  - [ ] Обновление групп
  - [ ] Проверка валидации

- [ ] **DELETE /api/announcements/:id** - Удаление объявления
  - [ ] Черновик без заявок
  - [ ] С заявками (должно быть запрещено)
  - [ ] Опубликованное (должно быть запрещено)

- [ ] **PATCH /api/announcements/:id/publish** - Публикация
  - [ ] Черновик → Опубликовано
  - [ ] Уже опубликованное (ошибка)
  - [ ] Без групп (ошибка)

- [ ] **PATCH /api/announcements/:id/close** - Закрытие
  - [ ] Опубликованное → Закрыто
  - [ ] Уже закрытое (ошибка)

- [ ] **GET /api/announcements/:id/requests** - Заявки объявления
  - [ ] Список всех заявок
  - [ ] Фильтрация по статусу
  - [ ] Пагинация

### 1.2. Заявки (Администратор)

- [ ] **GET /api/requests/:id** - Детали заявки
  - [ ] Существующая заявка
  - [ ] Несуществующая заявка (404)
  - [ ] С сотрудниками
  - [ ] С историей

- [ ] **PATCH /api/requests/:id/approve** - Одобрение заявки
  - [ ] Заявка в статусе "На рассмотрении"
  - [ ] Уже одобренная (ошибка)
  - [ ] Проверка зачисления студентов в группы
  - [ ] Проверка обновления счётчиков мест

- [ ] **PATCH /api/requests/:id/reject** - Отклонение заявки
  - [ ] С указанием причины
  - [ ] Без причины
  - [ ] Уже отклонённая (ошибка)

- [ ] **PUT /api/requests/:id/employees** - Обновление сотрудников
  - [ ] Добавление сотрудников
  - [ ] Удаление сотрудников
  - [ ] Проверка валидации

### 1.3. Представители

- [ ] **GET /api/representative/announcements** - Список объявлений
  - [ ] Только опубликованные
  - [ ] Только активные (не истёк срок)
  - [ ] С доступными местами
  - [ ] Фильтрация

- [ ] **GET /api/representative/announcements/:id** - Детали объявления
  - [ ] Опубликованное объявление
  - [ ] Черновик (403)
  - [ ] С группами и доступными местами

- [ ] **POST /api/representative/announcements/:id/apply** - Подача заявки
  - [ ] С корректными данными
  - [ ] Дублирующая заявка (ошибка)
  - [ ] На закрытое объявление (ошибка)
  - [ ] Превышение лимита мест (ошибка)
  - [ ] Без PDF-файла (если требуется)

- [ ] **GET /api/representative/requests** - Мои заявки
  - [ ] Список всех заявок представителя
  - [ ] Фильтрация по статусу
  - [ ] Пагинация

- [ ] **GET /api/representative/requests/:id** - Детали заявки
  - [ ] Своя заявка
  - [ ] Чужая заявка (403)

---

## 2. Тестирование UI

### 2.1. Административная панель

#### Список объявлений (/announcements)

- [ ] Отображение карточек объявлений
- [ ] Фильтрация по статусу
- [ ] Поиск по названию
- [ ] Пагинация
- [ ] Кнопка "Создать объявление"
- [ ] Статистика (всего, опубликовано, закрыто)

#### Создание объявления

- [ ] Открытие модального окна
- [ ] Заполнение формы
  - [ ] Название
  - [ ] Описание
  - [ ] Тип заявки
  - [ ] Даты
- [ ] Выбор групп
  - [ ] Добавление группы
  - [ ] Удаление группы
  - [ ] Указание лимита мест
- [ ] Валидация полей
- [ ] Сохранение черновика
- [ ] Публикация сразу

#### Детали объявления (/announcements/:id)

- [ ] Отображение информации
  - [ ] Название и описание
  - [ ] Статус
  - [ ] Даты
  - [ ] Список групп
- [ ] Кнопки действий
  - [ ] Редактировать
  - [ ] Опубликовать (для черновика)
  - [ ] Закрыть (для опубликованного)
  - [ ] Удалить (для черновика без заявок)
- [ ] Вкладка "Заявки"
  - [ ] Список заявок
  - [ ] Фильтрация по статусу
  - [ ] Открытие деталей заявки

#### Обработка заявки

- [ ] Открытие модального окна деталей
- [ ] Отображение информации
  - [ ] Организация
  - [ ] Представитель
  - [ ] Список сотрудников
  - [ ] PDF-файл
  - [ ] История изменений
- [ ] Кнопки действий
  - [ ] Одобрить
  - [ ] Отклонить (с указанием причины)
- [ ] Подтверждение действий

### 2.2. Личный кабинет представителя

#### Список объявлений (/representative/announcements)

- [ ] Отображение доступных объявлений
- [ ] Карточки с информацией
  - [ ] Название
  - [ ] Описание
  - [ ] Даты
  - [ ] Доступные места
  - [ ] Крайний срок
- [ ] Фильтрация
- [ ] Поиск
- [ ] Кнопка "Подать заявку"

#### Подача заявки (/representative/announcements/:id/apply)

- [ ] Отображение деталей объявления
- [ ] Форма заявки
  - [ ] Выбор групп
  - [ ] Выбор сотрудников (multi-select)
  - [ ] Загрузка PDF
  - [ ] Примечания
- [ ] Валидация
  - [ ] Обязательные поля
  - [ ] Лимит мест
  - [ ] Формат файла
- [ ] Отправка заявки
- [ ] Подтверждение

#### Мои заявки (/representative/requests)

- [ ] Список заявок
- [ ] Отображение статусов
  - [ ] На рассмотрении (жёлтый)
  - [ ] Одобрена (зелёный)
  - [ ] Отклонена (красный)
  - [ ] Отозвана (серый)
- [ ] Фильтрация по статусу
- [ ] Открытие деталей

#### Детали заявки

- [ ] Отображение информации
  - [ ] Объявление
  - [ ] Группы
  - [ ] Сотрудники
  - [ ] Статус
  - [ ] История
- [ ] Кнопка "Отозвать" (для статуса "На рассмотрении")
- [ ] Причина отклонения (если отклонена)

---

## 3. Edge Cases

### 3.1. Лимиты и ограничения

- [ ] Попытка подать заявку на закрытое объявление
  - Ожидается: Ошибка "Объявление закрыто"

- [ ] Попытка подать дублирующую заявку
  - Ожидается: Ошибка "Заявка уже подана"

- [ ] Превышение лимита мест
  - Ожидается: Ошибка "Недостаточно мест"

- [ ] Одновременная подача заявок от разных представителей
  - Ожидается: Корректная обработка, первый успешен

- [ ] Попытка одобрить заявку при недостатке мест
  - Ожидается: Ошибка "Недостаточно мест"

### 3.2. Даты и сроки

- [ ] Попытка подать заявку после крайнего срока
  - Ожидается: Ошибка "Срок подачи истёк"

- [ ] Попытка создать объявление с датой начала в прошлом
  - Ожидается: Предупреждение или ошибка

- [ ] Попытка создать объявление с датой окончания раньше начала
  - Ожидается: Ошибка валидации

### 3.3. Файлы

- [ ] Загрузка PDF-файла большого размера (>10MB)
  - Ожидается: Ошибка "Файл слишком большой"

- [ ] Загрузка файла не в формате PDF
  - Ожидается: Ошибка "Неверный формат"

- [ ] Загрузка повреждённого PDF
  - Ожидается: Ошибка или предупреждение

### 3.4. Права доступа

- [ ] Попытка представителя получить доступ к админ-панели
  - Ожидается: 403 Forbidden

- [ ] Попытка представителя просмотреть чужую заявку
  - Ожидается: 403 Forbidden

- [ ] Попытка неавторизованного пользователя подать заявку
  - Ожидается: 401 Unauthorized

### 3.5. Множественные группы

- [ ] Создание объявления с несколькими группами
  - Ожидается: Корректное сохранение

- [ ] Подача заявки на несколько групп
  - Ожидается: Корректная обработка

- [ ] Одобрение заявки с несколькими группами
  - Ожидается: Зачисление во все группы

---

## 4. Производительность

### 4.1. Нагрузочное тестирование

- [ ] Загрузка списка объявлений (100+ записей)
  - Время загрузки: _____ мс
  - Ожидается: < 1000 мс

- [ ] Загрузка деталей объявления с заявками (100+ заявок)
  - Время загрузки: _____ мс
  - Ожидается: < 1500 мс

- [ ] Подача заявки
  - Время обработки: _____ мс
  - Ожидается: < 500 мс

- [ ] Одобрение заявки с зачислением студентов
  - Время обработки: _____ мс
  - Ожидается: < 1000 мс

### 4.2. Пагинация

- [ ] Пагинация списка объявлений работает корректно
- [ ] Пагинация списка заявок работает корректно
- [ ] Переключение между страницами быстрое

### 4.3. Фильтрация

- [ ] Фильтрация по статусу работает быстро
- [ ] Поиск работает быстро
- [ ] Комбинированные фильтры работают корректно

---

## 5. Интеграция

### 5.1. База данных

- [ ] Все миграции применены успешно
- [ ] Старые поля удалены из study_groups
- [ ] Новые таблицы созданы корректно
- [ ] Индексы настроены
- [ ] Foreign keys работают

### 5.2. История и аудит

- [ ] История изменений заявки записывается
- [ ] Activity logs создаются для всех действий
- [ ] История отображается корректно в UI

### 5.3. Уведомления

- [ ] Представитель получает уведомление при одобрении
- [ ] Представитель получает уведомление при отклонении
- [ ] Уведомления отображаются в UI

---

## 6. Безопасность

- [ ] SQL-инъекции защищены (параметризованные запросы)
- [ ] XSS защищён (экранирование данных)
- [ ] CSRF защищён (токены)
- [ ] Права доступа проверяются на всех endpoints
- [ ] Файлы загружаются безопасно
- [ ] Валидация данных на сервере

---

## 7. Совместимость

### 7.1. Браузеры

- [ ] Chrome (последняя версия)
- [ ] Firefox (последняя версия)
- [ ] Safari (последняя версия)
- [ ] Edge (последняя версия)

### 7.2. Устройства

- [ ] Desktop (1920x1080)
- [ ] Laptop (1366x768)
- [ ] Tablet (768x1024)
- [ ] Mobile (375x667)

---

## 8. Регрессионное тестирование

- [ ] Старый функционал групп работает
- [ ] Зачисление студентов работает
- [ ] Расписание работает
- [ ] Сертификаты работают
- [ ] Другие модули не сломались

---

## Итоговая оценка

**Найдено критических багов:** _____  
**Найдено некритических багов:** _____  
**Найдено улучшений:** _____

**Готовность к релизу:** [ ] Да [ ] Нет

**Комментарии:**
_____________________________________________
_____________________________________________
_____________________________________________

**Подпись тестировщика:** _____________  
**Дата:** _____________
